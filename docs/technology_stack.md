# 技術選定まとめ

このドキュメントは、「フィールドレコーディング素材管理ツール」開発のために選定された技術スタックをまとめたものです。

## 全体構成・アーキテクチャ

| 領域               | 選定技術・ツール     | 役割・選定理由                                                                           |
| :----------------- | :------------------- | :--------------------------------------------------------------------------------------- |
| **リポジトリ**     | Monorepo（モノレポ） | 単一リポジトリでフロントエンドとバックエンドを効率的に管理するため。                     |
| **フレームワーク** | Next.js              | フロントエンドとバックエンドをTypeScriptで一貫して開発できるフルスタックフレームワーク。 |

## データベース

| 領域             | 選定技術・ツール | 役割・選定理由                                                                 |
| :--------------- | :--------------- | :----------------------------------------------------------------------------- |
| **データベース** | PostgreSQL       | 堅牢で高機能なリレーショナルデータベース。豊富なデータ型が利用可能。           |
| **ORM**          | Prisma           | Next.js/TypeScript環境と親和性が高く、型安全なデータベース操作を実現するため。 |

## フロントエンド

| 領域                  | 選定技術・ツール             | 役割・選定理由                                                                         |
| :-------------------- | :--------------------------- | :------------------------------------------------------------------------------------- |
| **CSSフレームワーク** | Tailwind CSS                 | ユーティリティファーストのアプローチにより、迅速なUI構築が可能。                       |
| **UIコンポーネント**  | Shadcn/ui                    | 高品質でカスタマイズ性の高いUIコンポーネント群を導入し、開発速度を向上させるため。     |
| **状態管理**          | Jotai                        | シンプルで軽量なアトミック状態管理ライブラリ。Reactの思想に近く学習コストが低い。      |
| **データ取得**        | React Query (TanStack Query) | サーバーからのデータ取得、キャッシュ、再検証を効率的に管理し、UIの応答性を高めるため。 |
| **波形表示**          | `wavesurfer.js`              | 音声ファイルの波形をインタラクティブに描画するための専門ライブラリ。                   |
| **地図表示**          | `Leaflet.js`                 | 軽量で高機能な地図描画ライブラリ。カスタマイズ性が高い。                               |
| **ダッシュボード**    | `GridStack.js`               | ドラッグ＆ドロップによるウィジェットの移動・リサイズ機能を実装するため。               |

## バックエンド

| 領域                       | 選定技術・ツール | 役割・選定理由                                                                 |
| :------------------------- | :--------------- | :----------------------------------------------------------------------------- |
| **バックグラウンドジョブ** | BullMQ + Redis   | ZIP圧縮など時間のかかる処理をAPIリクエストから切り離し、非同期に実行するため。 |

## 運用・インフラ

| 領域                   | 選定技術・ツール                      | 役割・選定理由                                                                                         |
| :--------------------- | :------------------------------------ | :----------------------------------------------------------------------------------------------------- |
| **コンテナ技術**       | Docker                                | 開発環境と本番環境の差異をなくし、アプリケーションのポータビリティを確保するため。                     |
| **ファイルストレージ** | ローカルディスク（Docker Volume共有） | 初期コストを抑え、ローカル環境で完結させるための現実的な選択。ホストOSとコンテナでファイルを共有する。 |
